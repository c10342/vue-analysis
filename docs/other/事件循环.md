js中所有任务都可以分为同步任务和异步任务。首先同步任务进入主线程，也就是主执行栈，异步任务进入任务队列，主线程内的任务执行完毕之后，回去任务队列读取对应的任务，推入到主线程中执行。并且不断的重复上述过程，就是事件循环

异步任务还可以细分为微任务和宏任务。

微任务执行的时机是主函数执行结束之后，当前宏任务结束之前

常见的微任务有：

Promise.then，MutaionObserver，process.nexttick（node的）

常见的宏任务有：

script代码块，settimtout，setinterval，setimmediate，postmessage，messagechannel，ui事件

宏任务和微任务的执行流程是：执行一个宏任务，如果遇见微任务就把他放到微任务的事件队列中，当前宏任务执行完成之后，会查看微任务的事件队列，然后将里面的所有微任务一次执行完毕。等微任务队列中的所有事件执行完毕之后，就回去执行下一个宏任务